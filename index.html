<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë¬´ëŒ€ì˜ˆìˆ ì „ë¬¸ì¸ ìê²©ê²€ì • ì ìˆ˜ ê³„ì‚°ê¸°</title>
<style>
:root {
  --border:#e5e7eb;
  --shadow:0 10px 24px rgba(0,0,0,.12);
  --ok:#16a34a;
  --danger:#ef4444;
}

*{box-sizing:border-box}
body{
  margin:0;
  padding:60px 20px;
  font-family:"Apple SD Gothic Neo","Noto Sans KR",sans-serif;
  background:#f3f4f6;
  display:flex;
  justify-content:center;
}
.wrap{width:min(420px,100%)}
.card{
  background:#fff;
  border-radius:18px;
  padding:22px;
  border:1px solid var(--border);
  box-shadow:var(--shadow);
}

h1{margin:0 0 8px;font-size:20px}
.subtitle{font-size:13px;color:#6b7280;margin-bottom:14px}

label{display:block;margin-top:12px;margin-bottom:6px;font-weight:700;color:#6b7280}
input,select{
  width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:#f9fafb;
  font-size:16px;
}
input:focus, select:focus {
  border-color:#4f46e5;
  box-shadow:0 0 0 3px rgba(79,70,229,0.18);
}

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
  color:#fff;
  background:rgba(0,0,0,0.7);
  font-weight:700;
  cursor:pointer;
  transition:transform .15s ease, background .15s ease;
  margin-top:14px;
}
button:hover{background:rgba(0,0,0,0.9)}
button:disabled{background:rgba(0,0,0,0.3);cursor:not-allowed}

.result{
  display:none;
  margin-top:18px;
  padding:16px;
  border-radius:14px;
  background:rgba(0,0,0,.65);
  color:#fff;
}
.result.active{display:block}

.score{font-size:28px;font-weight:700}

.line{
  padding:4px 8px;
  border-radius:8px;
  margin-bottom:2px;
}
.line.fail{
  background:rgba(239,68,68,.2);
}

.badge{
  margin-left:6px;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
  background:#fff;
}
.badge.ok{color:var(--ok)}
.badge.fail{color:var(--danger)}

.guide{
  margin-bottom:8px;
  font-size:14px;
  font-weight:700;
}

.note{
  margin-top:12px;
  padding:10px;
  border-radius:12px;
  background:#fff;
  color:#000;
  font-size:13px;
  display: flex;
  justify-content: center;
  white-space: nowrap;
  overflow-x: auto;
}

.makeby{
  text-align:right;
  font-size:13px;
  color:#6b7280;
  margin-top:10px;
  white-space: nowrap;
}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>ë¬´ëŒ€ì˜ˆìˆ ì „ë¬¸ì¸ ìê²©ê²€ì • ì ìˆ˜ ê³„ì‚°ê¸°</h1>
    <p class="subtitle">
      ì •ë‹µ ìˆ˜ë¥¼ ì…ë ¥í•˜ê³  ë²„íŠ¼ì„ ëˆŒëŸ¬ í•©ê²© ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì„¸ìš”.
    </p>

    <label>ë“±ê¸‰</label>
    <select id="grade">
      <option value="1">1ê¸‰</option>
      <option value="2">2ê¸‰</option>
      <option value="3">3ê¸‰</option>
    </select>

    <label>ê³µí†µê³¼ëª© ì •ë‹µ ìˆ˜ (0~50)</label>
    <input type="number" id="common" min="0" max="50" value="0">

    <label>ì „ê³µê³¼ëª© ì •ë‹µ ìˆ˜ (0~25)</label>
    <input type="number" id="major" min="0" max="25" value="0">

    <button id="calcBtn" disabled>ê²°ê³¼ í™•ì¸</button>

    <div class="result" id="resultBox">
      <p class="guide" id="guide"></p>

      <p>ì´ì (í™˜ì‚°): <span class="score" id="total"></span></p>

      <p id="cLine" class="line">
        ê³µí†µ í™˜ì‚°ì ìˆ˜: <span id="cScore"></span> / <span id="cMax"></span>
        (ê³¼ë½ <span id="cFail"></span>)
      </p>

      <p id="mLine" class="line">
        ì „ê³µ í™˜ì‚°ì ìˆ˜: <span id="mScore"></span> / <span id="mMax"></span>
        (ê³¼ë½ <span id="mFail"></span>)
      </p>

      <p>
        í•©ê²© ì—¬ë¶€: <span id="pass" class="badge">-</span>
      </p>

      <div class="note">
        âš ï¸ ë³¸ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©° ê³µì‹ ê²°ê³¼ì™€ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </div>
    </div>

    <div class="makeby">standby_stage</div>
  </div>
</div>

<script>
const gradeData = {
  1: { cRate: 0.4, mRate: 3.2, cMax: 50*0.4, mMax: 25*3.2 },
  2: { cRate: 0.6, mRate: 2.8, cMax: 50*0.6, mMax: 25*2.8 },
  3: { cRate: 0.8, mRate: 2.4, cMax: 50*0.8, mMax: 25*2.4 }
};

const $ = id => document.getElementById(id);
function round2(num){ return Math.round(num*100)/100; }

function validateInputs(){
  const c = +$('common').value;
  const m = +$('major').value;
  return !isNaN(c)&&!isNaN(m)&&c>=0&&c<=50&&m>=0&&m<=25;
}

function calc(){
  if(!validateInputs()) return;

  const cNum = +$('common').value;
  const mNum = +$('major').value;
  const g = gradeData[$('grade').value];

  const cScore = round2(cNum * g.cRate);
  const mScore = round2(mNum * g.mRate);
  const total = round2(cScore + mScore);

  $('cScore').innerText = cScore;
  $('mScore').innerText = mScore;
  $('total').innerText = total;
  $('cMax').innerText = round2(g.cMax);
  $('mMax').innerText = round2(g.mMax);

  // ê³¼ë½ 40% ë¯¸ë§Œ
  const cFail = cScore < g.cMax * 0.4;
  const mFail = mScore < g.mMax * 0.4;

  $('cFail').innerText = round2(g.cMax * 0.4);
  $('mFail').innerText = round2(g.mMax * 0.4);

  $('cLine').className = 'line' + (cFail ? ' fail' : '');
  $('mLine').className = 'line' + (mFail ? ' fail' : '');

  const totalFail = total < 60;

  let guideMsg = '';
  // í•˜ë‚˜ë¼ë„ ê³¼ë½ì´ë©´ ê³¼ë½
  if(cFail || mFail){
    guideMsg = `ê³¼ë½ì…ë‹ˆë‹¤.`;
  } else if(totalFail){
    guideMsg = `í•©ê²©ê¹Œì§€ ${round2(60-total)}ì  ë¶€ì¡±í•©ë‹ˆë‹¤.`;
  } else {
    guideMsg = 'ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! í•©ê²©ì…ë‹ˆë‹¤.';
  }

  $('guide').innerText = guideMsg;

  $('pass').innerText = ( !(cFail || mFail) && !totalFail ) ? 'í•©ê²©' : 'ë¶ˆí•©ê²©';
  $('pass').className = 'badge ' + ( (!(cFail || mFail) && !totalFail) ? 'ok' : 'fail');

  $('resultBox').classList.add('active');
}

function checkBtn(){
  $('calcBtn').disabled = !validateInputs();
}

// ë²„íŠ¼ í™œì„±í™” ì´ë²¤íŠ¸
['common','major'].forEach(id => $(id).addEventListener('input', checkBtn));
$('grade').addEventListener('change', checkBtn); // selectëŠ” change ì´ë²¤íŠ¸ ì‚¬ìš©
$('calcBtn').addEventListener('click', calc);

// 0 í´ë¦­ ì‹œ ì´ˆê¸°í™”
['common','major'].forEach(id=>{
  const el=$(id);
  el.addEventListener('focus', ()=>{ if(el.value=="0") el.value=""; });
});

checkBtn();
</script>
</body>
</html>
